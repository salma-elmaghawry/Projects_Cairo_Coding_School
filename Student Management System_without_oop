#include <iostream>
#include <string>
#include <vector>
using namespace std;

struct Student {
    int id;
    string name;
    int grade;
    vector<string> courses;
};

vector<Student> students;

void addStudent() {
    Student s;
    cout << "Enter ID: ";
    cin >> s.id;
    cout << "Enter Name: ";
    cin.ignore();
    getline(cin, s.name);
    cout << "Enter Grade: ";
    cin >> s.grade;

    students.push_back(s);
    cout << "Student added successfully\n";
}

void deleteStudent() {
    int id;
    cout << "Enter ID of student to delete: ";
    cin >> id;

    for (int i = 0; i < students.size(); i++) {
        if (students[i].id == id) {
            students.erase(students.begin() + i);
            cout << "Student deleted successfully\n";
            return;
        }
    }
    cout << "Student not found\n";
}

void addCourseToStudent() {
    int id;
    cout << "Enter student ID: ";
    cin >> id;

    for (int i = 0; i < students.size(); i++) {
        if (students[i].id == id) {
            string course;
            cout << "Enter course name: ";
            getline(cin, course);
            students[i].courses.push_back(course);
            cout << "Course added successfully\n";
            return;
        }
    }
    cout << "Student not found\n";
}

void deleteCourseFromStudent() {
    int id;
    cout << "Enter student ID: ";
    cin >> id;

    for (int i = 0; i < students.size(); i++) {
        if (students[i].id == id) {
            string course;
            cout << "Enter course name to delete: ";
            getline(cin, course);

            for (int j = 0; j < students[i].courses.size(); j++) {
                if (students[i].courses[j] == course) {
                    students[i].courses.erase(students[i].courses.begin() + j);
                    cout << "Course deleted successfully\n";
                    return;
                }
            }
            cout << "Course not found\n";
            return;
        }
    }
    cout << "Student not found\n";
}

void displayAllStudents() {
    if (students.empty()) {
        cout << "No students available.\n";
        return;
    }

    cout << "\n--- List of Students ---\n";
    for (int i = 0; i < students.size(); i++) 
    {
        cout << "ID: " << students[i].id
             << ", Name: " << students[i].name
             << ", Grade: " << students[i].grade
             << "\nCourses: ";

        if (students[i].courses.empty()) {
            cout << "None";
        } else {
            for (int j = 0; j < students[i].courses.size(); j++) {
                cout << students[i].courses[j] << " ";
            }
        }
        cout << "\n";
    }
}

void menu() {
    int choice;
    do {
        cout << "\n===== Student Management System =====\n";
        cout << "1. Add Student\n";
        cout << "2. Delete Student\n";
        cout << "3. Add Course to Student\n";
        cout << "4. Delete Course from Student\n";
        cout << "5. Display All Students\n";
        cout << "6. Exit\n";
        cout << "Enter your choice: ";
        cin >> choice;

        switch (choice) {
            case 1: addStudent(); break;
            case 2: deleteStudent(); break;
            case 3: addCourseToStudent(); break;
            case 4: deleteCourseFromStudent(); break;
            case 5: displayAllStudents(); break;
            case 6: cout << "Goodbye\n"; break;
            default: cout << "Invalid choice\n";
        }
    } while (choice != 6);
}

int main() {
    menu();
    return 0;
}
